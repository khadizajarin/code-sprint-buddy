"use strict";(()=>{var t=null,a=1*60*1e3,s=null,c=()=>{new Audio(chrome.runtime.getURL("notification.mp3")).play().catch(i=>{console.warn("Failed to play audio in background:",i)})};function u(){chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:"Sprint Finished!",message:"20-minute sprint complete! Time to take a break. \u{1F9D8}\u200D\u2640\uFE0F"}),c(),chrome.runtime.sendMessage({type:"SPRINT_ENDED"}),t=null,s=null}chrome.runtime.onMessage.addListener((e,i,n)=>{if(e.type==="START"&&(t||(t=Date.now(),s=setTimeout(()=>{u()},a),chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:"Sprint Started!",message:"Your 20-minute coding sprint has begun. Let\u2019s go! \u{1F680}"}),n({status:"started"}))),e.type==="STATUS"){if(t){let r=Date.now()-t,o=Math.max(0,Math.floor((a-r)/1e3));n({running:!0,timeLeft:o})}else n({running:!1,timeLeft:a/1e3});return!0}});chrome.runtime.onMessage.addListener((e,i,n)=>{e.type==="PLAY_SOUND"&&new Audio(chrome.runtime.getURL("notification.mp3")).play().catch(o=>console.warn("Audio play failed:",o))});})();
//# sourceMappingURL=background.js.map
