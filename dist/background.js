"use strict";(()=>{var t=null,r=1*60*1e3,a=null;chrome.runtime.onMessage.addListener((o,l,i)=>{if(o.type==="START"&&(t||(t=Date.now(),a=setTimeout(()=>{c()},r),chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:"Sprint Started!",message:"Your 20-minute coding sprint has begun. Let\u2019s go! \u{1F680}"}),chrome.tabs.query({},n=>{n.forEach(e=>{e.id&&chrome.tabs.sendMessage(e.id,{type:"PLAY_SOUND"})})})),i({status:"started"})),o.type==="STATUS"){if(t){let n=Date.now()-t,e=Math.max(0,Math.floor((r-n)/1e3));i({running:!0,timeLeft:e})}else i({running:!1,timeLeft:r/1e3});return!0}});function s(){chrome.windows.create({url:chrome.runtime.getURL("sound.html"),type:"popup",width:1,height:1,left:0,top:0,focused:!1})}function c(){chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:"Sprint Finished!",message:"20-minute sprint complete! Time to take a break. \u{1F9D8}\u200D\u2640\uFE0F"}),s(),t=null,a=null}})();
//# sourceMappingURL=background.js.map
