"use strict";(()=>{var t=null,i=1*60*1e3,r=null,c=()=>{new Audio(chrome.runtime.getURL("notification.mp3")).play().catch(o=>{console.warn("Failed to play audio in background:",o)})};function l(){chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:"Sprint Finished!",message:"20-minute sprint complete! Time to take a break. \u{1F9D8}\u200D\u2640\uFE0F"}),c(),chrome.runtime.sendMessage({type:"SPRINT_ENDED"}),t=null,r=null}chrome.runtime.onMessage.addListener((e,o,n)=>{if(e.type==="START"&&(t||(t=Date.now(),r=setTimeout(()=>{l()},i),chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:"Sprint Started!",message:"Your 20-minute coding sprint has begun. Let\u2019s go! \u{1F680}"}),n({status:"started"}))),e.type==="STATUS"){if(t){let a=Date.now()-t,s=Math.max(0,Math.floor((i-a)/1e3));n({running:!0,timeLeft:s})}else n({running:!1,timeLeft:i/1e3});return!0}});})();
//# sourceMappingURL=background.js.map
